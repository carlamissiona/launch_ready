<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta name="description" content="Start your development with Steller landing page.">
      <meta name="author" content="Devcrud">
      <title><%= page.title %></title>
      <!-- font icons -->
      <link rel="stylesheet" href="../../theme/assets/vendors/themify-icons/css/themify-icons.css">
      <!-- Bootstrap + Steller main styles -->
      <link rel="stylesheet" href="../../theme/assets/css/steller.css">
   </head>
   <body data-spy="scroll" data-target=".navbar" data-offset="40" id="home">
      <!-- Page navigation -->
      <nav class="navbar navbar-expand-lg navbar-light fixed-top" data-spy="affix" data-offset-top="0">
        <div class="container">
           <!--- <a class="navbar-brand" href="#"><img src="../theme/assets/imgs/logo.svg" alt=""></a> -->
<h4>Launch Ready</h4>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto align-items-center">
                    
                    <li class="nav-item">
                      <div class="btn-group">
                          <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Launch A Startup Now
                          </button>
                          <div class="dropdown-menu form" style="min-width:250px;">
                            <form class="px-4 py-3">
                                <div class="form-group">
                                  <input type="email" class="form-control"  placeholder="email@example.com">
                                </div>
                                <div class="form-group">
                                  <input type="password" class="form-control"  placeholder="Password">
                                </div> 
                                <button type="submit" class="btn btn-primary btn-block">Launch It</button>
                            </form>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#"><small>Browse a list of launch-ready apps and business templates.</small></a> 
                          </div>
                      </div>     
                    </li> 
                  <li class="nav-item">
                      <a class="nav-link" href="/logout">Logout</a>
                  </li> 
                </ul>
            </div>
        </div>          
    </nav>
      <!-- End of page navibation -->
      <!-- Page Header --> 
      <header class="header" style="min-height:100%; height:100%;padding:5px; margin:2px 2px 20px 2px; ">
        
         <div class="container">
          
            <div class="row">
               
               <div class="col-lg-6" style="padding-right:100px;">
                <br><br><br>
                  <div class="row text-center text-md-left">
                     <div class="pl-md-4">
                        <br><br>
                        <h6 class="title"> How To Write A Business Plan</h6>
                        <p class="text-justify"> <br>Writing a one-page business plan is a great way to clearly communicate your business idea, goals, and strategy in a concise and efficient manner. It's especially useful for startups, entrepreneurs, and small businesses who need to convey their vision without overwhelming investors or stakeholders with lengthy documents.

                           Hereâ€™s a guide on how to write a one-page business plan:</p>
                        <button class="btn btn-primary rounded mt-3">Check The Guide</button>                   
                     </div>
                  </div>
               </div>
               <div class="col-lg-6 col-sm-12" id="form-db">
                  <%- page.forms  %>
               </div>
               <!-- end of form inputs -->   
            </div>
            <!--Banner Row ends-->
         </div>
      </header>
      <main>

        <section>
           <br>
      </section>

      </main>
      <!-- End of Page Header -->
      <!-- Page Footer -->
      <footer class="page-footer">
         <div class="container">
            <div class="row align-items-center">
               <div class="col-sm-6">
                  <p>
                     Copyright <script>document.write(new Date().getFullYear())</script> &copy; <a href="http://www.devcrud.com" target="_blank">DevCRUD</a>
                  </p>
               </div>
               <div class="col-sm-6">
                  <div class="socials">
                     <a class="social-item" href="javascript:void(0)"><i class="ti-facebook"></i></a>
                     <a class="social-item" href="javascript:void(0)"><i class="ti-google"></i></a>
                     <a class="social-item" href="javascript:void(0)"><i class="ti-github"></i></a>
                     <a class="social-item" href="javascript:void(0)"><i class="ti-twitter"></i></a>
                  </div>
               </div>
            </div>
         </div>
      </footer>
      <!-- End of page footer -->
      <!--Site Registration Message js--->
      <script>
         document.addEventListener('DOMContentLoaded', () => {
            console.log("(document.getElementById('bmodel').value).length == 0" );
            console.log(document.getElementById('bmodel') );
           if((document.getElementById('bmodel').value).length == 0 ){
               document.getElementById('bmodel').value = "-";
           } 

           if((document.getElementById('esummary').value).length == 0 ){
               document.getElementById('esummary').value = "-";
           } 

           if((document.getElementById('coverview').value).length == 0 ){
               document.getElementById('coverview').value = "-";
           } 


           if((document.getElementById('financialplan').value).length == 0 ){
               document.getElementById('financialplan').value = "-";
           } 


           if((document.getElementById('operationalplan').value).length == 0 ){
               document.getElementById('operationalplan').value = "-";
           } 

           if((document.getElementById('productser').value).length == 0 ){
               document.getElementById('productser').value = "-";
           } 


           if((document.getElementById('mresearch').value).length == 0 ){
               document.getElementById('mresearch').value = "-";
           } 

           if((document.getElementById('marketingstrat').value).length == 0 ){
               document.getElementById('marketingstrat').value = "-";
           } 
           
           console.log("(document.getElementById('marketingstrat').value)");
           console.log((document.getElementById('marketingstrat').value));
           console.log((document.getElementById('bmodel').value).toString() );
           console.log((document.getElementById('marketingstrat').value).length);
           console.log((document.getElementById('bmodel').value).length);

           const saveForm = document.getElementById('saveformForm');
           const messageDiv = document.getElementById('message');
 
         
           saveForm.addEventListener('submit', async (e) => {
             e.preventDefault();
                        
             let html_form = ` 
                
                  <br><br><br><br>
                  <!-- Start of form inputs -->  
                  <h4>One Page Business Plan</h4>
                  <hr>
                  <div>
                     <form id="saveformForm">
                        <div class="form-group">
                           <h6 class="section-secondary-title"> Executive Summary</h6>
                        </div>
                        <div class="form-group">
                           <textarea class="form-control" id="esummary" value="`+ document.getElementById('esummary').value  +`" name="esummary" placeholder="What is the core purpose of my business? What makes my business unique or different from competitors?">`+document.getElementById('esummary').value  +` </textarea>
                        </div>
                        <div class="form-group">
                           <h6 class="section-secondary-title" > Company Overview</h6>
                        </div>
                        <div class="form-group">
                           <textarea class="form-control" id="coverview" name="coverview" value="`+document.getElementById('coverview').value  +`"  placeholder="What is the core purpose of my business? What makes my business unique or different from competitors?"> `+document.getElementById('coverview').value  +`</textarea>
                        </div>
                        <div class="form-group">
                           <h6 class="section-secondary-title" > Market Research</h6>
                        </div>
                        <div class="form-group">
                           <textarea class="form-control"  id="mresearch" name="mresearch" value="`+document.getElementById('mresearch').value  +`" placeholder="What is the core purpose of my business? What makes my business unique or different from competitors?">`+document.getElementById('mresearch').value  +` </textarea>
                        </div>
                        <div class="form-group">
                           <h6 class="section-secondary-title" > Products/Services</h6>
                        </div>
                        <div class="form-group">
                           <textarea class="form-control"  id="productser" value="`+document.getElementById('productser').value  +`" name="productser" placeholder="What is the core purpose of my business? What makes my business unique or different from competitors?"> `+document.getElementById('productser').value  +`</textarea>
                        </div>
                        <div class="form-group">
                           <h6 class="section-secondary-title" > Marketing & Sales Strategy </h6>
                        </div>
                        <div class="form-group">
                           <textarea class="form-control" id="marketingstrat" name="marketingstrat"  value="`+ document.getElementById('marketingstrat').value  +`" placeholder="What is the core purpose of my business? What makes my business unique or different from competitors?"> `+document.getElementById('marketingstrat').value  +` </textarea>
                        </div>
                        <div class="form-group">
                           <h6 class="section-secondary-title" > Business Model</h6>
                        </div>
                        <div class="form-group">
                           <textarea class="form-control" id="bmodel" value="`+document.getElementById('bmodel').value  +`" name="coverview" placeholder="What is the core purpose of my business? What makes my business unique or different from competitors?"> `+document.getElementById('bmodel').value  +` </textarea>
                        </div>
                        <div class="form-group">
                           <h6 class="section-secondary-title"> Financials </h6>
                        </div>
                        <div class="form-group">
                           <textarea class="form-control" id="financialplan" value="`+document.getElementById('financialplan').value  +`" name="coverview" placeholder="What is the core purpose of my business? What makes my business unique or different from competitors?"> `+document.getElementById('financialplan').value  +` </textarea>
                        </div>
                        <div class="form-group">
                           <h6 class="section-secondary-title"> Operational Plan </h6>
                        </div>
                        <div class="form-group">
                           <textarea class="form-control" id="operationalplan" name="coverview" value="`+document.getElementById('operationalplan').value  +`" placeholder="What is the core purpose of my business? What makes my business unique or different from competitors?"> `+document.getElementById('operationalplan').value  +`</textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit</button><br><br>
                     </form>
                  </div>
               `;
               const formData = {
               formcontent: html_form,          
               type: "One Page Business Plan",
               description: "-",
             };

             console.log("html_form");
             console.log(html_form);
             try {
               const response = await fetch('/api/addform', {
                 method: 'POST',
                 headers: {
                   'Content-Type': 'application/json'
                 },
                 body: JSON.stringify(formData)
               }).then( async (res) => {
                    
                  const data = await res.json();
                  console.log("await data");
                  

                  if (res.ok) {
                     showMessage(data.message, 'success');
                     console.log("await data");
                     console.log(data);
                     saveForm.reset();
                  } else {
                     showMessage(data.error, 'error');
                  }

               });
               
               
             } catch (error) {
               console.error('Registration error:', error);
               showMessage('An error occurred. Please try again.', 'error');
             }
           });
           
           function showMessage(message, type) {
             messageDiv.textContent = message;
             messageDiv.className = `message ${type}`;
             messageDiv.style.display = 'block';
             
             setTimeout(() => {
               messageDiv.style.display = 'none';
             }, 5000);
           }
         });
      </script>
      <!--Site Registration Message js--->
      <!-- core  -->
      <script src="../theme/assets/vendors/jquery/jquery-3.4.1.js"></script>
      <script src="../theme/assets/vendors/bootstrap/bootstrap.bundle.js"></script>
      <!-- bootstrap 3 affix -->
      <script src="../theme/assets/vendors/bootstrap/bootstrap.affix.js"></script>
      <!-- steller js -->
      <script src="../theme/assets/js/steller.js"></script>
   </body>
</html>